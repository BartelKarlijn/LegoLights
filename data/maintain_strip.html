<!DOCTYPE html> <html>
<head>
    <title>
       Diagon Alley ledstrip
    </title>
    <script src="jquery-3.7.0.min.js"></script>
    <script>
        $(document).ready(function() {
            // url parameters
            $.urlParam = function(name){
                var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
                if (results==null) { return null; }
                return decodeURI(results[1]) || 0;
            }
			//vul waarde in jq elementen in
			//$('input[name="jq"]').val("test");
            $('input[name="jq"]').val(function(index, value){
                $.get("/getStrip"+"?kring="+$.urlParam('kring')+"&veld="+this.id, function(data) {
                    console.log("vul waarde "+data);
                    //$('01').html(data);  nok
                    $(this).html(data);
                });
            });
            $('#03').val(function(index, value){
                $.get("/getStrip"+"?kring="+$.urlParam('kring')+"&veld=03", function(data) {
                    console.log("enkel 03 "+data);
                    console.log("enkel03 val="+$(this).value);
                    //$(this).val(data); nok
                    $('#03').html(data);
                });
            });

            //onchange voor jq elementen
			$('input[name="jq"]').on("focusout", function(){
				//$(this).val("jq2");
				$.get("/getStrip"+"?kring="+$.urlParam('kring')+"&veld="+this.id+"&waarde="+this.value, function(data) {
				    console.log("onchange jq= "+data)
                    //$(this).html(data);  nok
                    $(this).html("teruggezet");
				});
			});
            //onchange voor element 03
			$('#03').on("focusout", function(){
				//$(this).val("jq2");
				$.get("/getStrip"+"?kring="+$.urlParam('kring')+"&veld="+this.id+"&waarde="+this.value, function(data) {
				    console.log("onchange 03="+data)
                    //$('#03').val(data);  nok
                    //$('#03').html("teruggezet");
                    $(this).val("teruggezet");				});
			});
		});
//$.get( "test.php", function( data ) {
//  $( "body" )
//    .append( "Name: " + data.name ) // John
//    .append( "Time: " + data.time ); //  2pm
//}, "json" );
    </script>
</head>

<body style="text-align:center;" id="body" >
    <label for="01">Beschrijving</label> <input type='text' id='01' name='jq' value="init"/>
    <br>
    <label for="02">Start led   </label> <input type='text' id='02' name='jq' value="init"/>
    <br>
    <label for="03">Stop led    </label> <input type='text' id='03' name='jq2'/>
    <br>
</body>
</html>